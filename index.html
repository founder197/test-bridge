<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple LI.FI Bridge</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: #e6edf3;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px;
    }
    h1 { color: #58a6ff; }
    .box {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 10px;
      padding: 20px;
      width: 320px;
      margin-top: 20px;
    }
    label { display: block; margin-top: 10px; }
    select, input {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #30363d;
      background: #0d1117;
      color: #e6edf3;
      margin-top: 5px;
    }
    button {
      margin-top: 15px;
      padding: 10px;
      background: #238636;
      border: none;
      color: white;
      width: 100%;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    pre {
      background: #0d1117;
      border: 1px solid #30363d;
      padding: 10px;
      border-radius: 6px;
      overflow-x: auto;
      margin-top: 15px;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <h1>ðŸŒ‰ Simple LI.FI Bridge</h1>
  <div class="box">
    <label>From Chain</label>
    <select id="fromChain">
      <option value="1">Ethereum</option>
      <option value="137">Polygon</option>
      <option value="56">BSC</option>
      <option value="42161">Arbitrum</option>
    </select>

    <label>To Chain</label>
    <select id="toChain">
      <option value="137">Polygon</option>
      <option value="1">Ethereum</option>
      <option value="56">BSC</option>
      <option value="42161">Arbitrum</option>
    </select>

    <label>Amount (in ETH)</label>
    <input type="number" id="amount" placeholder="Ex: 0.1" step="0.01" />

    <button id="getQuote">Get Bridge Quote</button>

    <pre id="output">Waiting...</pre>
  </div>

  <script>
    const ETH = "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"; // Native token
    const MATIC = "0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270";

    document.getElementById("getQuote").addEventListener("click", async () => {
      const fromChain = document.getElementById("fromChain").value;
      const toChain = document.getElementById("toChain").value;
      const amountEth = document.getElementById("amount").value;

      if (!amountEth) {
        alert("Please enter an amount");
        return;
      }

      const fromAmount = (Number(amountEth) * 1e18).toString(); // convert to wei

      const url = `https://li.quest/v1/quote?fromChain=${fromChain}&toChain=${toChain}&fromToken=${ETH}&toToken=${MATIC}&fromAmount=${fromAmount}`;

      try {
        document.getElementById("output").textContent = "Fetching quote...";
        const res = await fetch(url);
        const data = await res.json();

        if (data && data.estimate) {
          const result = {
            tool: data.tool,
            bridge: data.estimate.tool,
            estimatedGas: data.estimate.gasCosts?.[0]?.estimate || "N/A",
            toAmount: (data.estimate.toAmount / 1e18).toFixed(6) + " MATIC",
            time: data.estimate.executionDuration + " sec",
          };
          document.getElementById("output").textContent = JSON.stringify(result, null, 2);
        } else {
          document.getElementById("output").textContent = "No quote found.";
        }
      } catch (err) {
        document.getElementById("output").textContent = "Error: " + err.message;
      }
    });
  </script>
</body>
</html>
